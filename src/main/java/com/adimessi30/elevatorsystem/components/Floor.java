package com.adimessi30.elevatorsystem.components;

import com.adimessi30.elevatorsystem.components.abstractions.IdAutoGenerated;
import lombok.Getter;
import lombok.extern.slf4j.Slf4j;

import static com.adimessi30.elevatorsystem.enums.Direction.DOWN;
import static com.adimessi30.elevatorsystem.enums.Direction.UP;

@Slf4j
public class Floor extends IdAutoGenerated {
    @Getter
    private final int floorNumber;
    private final FloorButton floorButtonUp;
    private final FloorButton floorButtonDown;

    public Floor(FloorButton floorButtonUp, FloorButton floorButtonDown) {
        super();
        this.floorNumber = getId();
        this.floorButtonUp = floorButtonUp;
        this.floorButtonDown = floorButtonDown;
    }

    public void goUp() {
        floorButtonUp.press(UP, floorNumber);
    }

    public void goDown() {
        floorButtonDown.press(DOWN, floorNumber);
    }

    @Override
    protected void reset() {
        floorButtonUp.reset();
        floorButtonDown.reset();
    }

    protected void postConstruct() {
        log.debug("New floor instance with floorNumber: {} was created........", floorNumber);
    }

    public void disableUp() {
        floorButtonUp.setDisabled(true);
    }

    public void disableDown() {
        floorButtonDown.setDisabled(true);
    }
}
